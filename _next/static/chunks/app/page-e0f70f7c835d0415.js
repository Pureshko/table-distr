(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{8298:(t,e,n)=>{Promise.resolve().then(n.bind(n,2152))},2152:(t,e,n)=>{"use strict";n.d(e,{Table:()=>F});var r=n(5155),o=n(2115);let i=t=>{let{slot:e,className:n}=t,[i,l]=(0,o.useState)(!1),[a,s]=(0,o.useState)("bg-green-200"),[d,u]=(0,o.useState)("");return(0,r.jsx)("td",{className:"slot "+n,"data-swapy-slot":e,children:(0,r.jsx)("div",{className:a+" resize item "+d,"data-swapy-item":e,children:(0,r.jsx)("div",{children:"Test"})})})},l=t=>{let{children:e,className:n,ref:o}=t;return(0,r.jsx)("tr",{className:n,ref:o,children:e})};function a(t){return"object"==typeof t&&null!==t&&"x"in t&&"y"in t&&"unit"in t&&"string"==typeof t.unit&&"object"==typeof t.x&&"object"==typeof t.y&&"topLeft"in t.x&&"topRight"in t.x&&"bottomRight"in t.x&&"bottomLeft"in t.x&&"topLeft"in t.y&&"topRight"in t.y&&"bottomRight"in t.y&&"bottomLeft"in t.y}function s(t){var e;let n=t.match(/(\d+(?:\.\d+)?)(px|%)/g);if(!n)return{x:{topLeft:0,topRight:0,bottomRight:0,bottomLeft:0},y:{topLeft:0,topRight:0,bottomRight:0,bottomLeft:0},unit:"px"};let r=n.map(t=>{let[e,n,r]=t.match(/(\d+(?:\.\d+)?)(px|%)/)??[];return{value:parseFloat(n),unit:r}}),o=(null==(e=r[0])?void 0:e.unit)||"px";if(r.some(t=>t.unit!==o))throw Error("Inconsistent units in border-radius string.");let[i,l,a,s]=r.map(t=>t.value),d={topLeft:i??0,topRight:l??i??0,bottomRight:a??i??0,bottomLeft:s??l??i??0};return{x:{...d},y:{...d},unit:o}}function d({x:t,y:e,unit:n},r,o){return"px"===n?{x:{topLeft:t.topLeft/r,topRight:t.topRight/r,bottomLeft:t.bottomLeft/r,bottomRight:t.bottomRight/r},y:{topLeft:e.topLeft/o,topRight:e.topRight/o,bottomLeft:e.bottomLeft/o,bottomRight:e.bottomRight/o},unit:"px"}:"%"===n?{x:t,y:e,unit:"%"}:{x:t,y:e,unit:n}}function u(t){return`
    ${t.x.topLeft}${t.unit} ${t.x.topRight}${t.unit} ${t.x.bottomRight}${t.unit} ${t.x.bottomLeft}${t.unit}
    /
    ${t.y.topLeft}${t.unit} ${t.y.topRight}${t.unit} ${t.y.bottomRight}${t.unit} ${t.y.bottomLeft}${t.unit}
  `}function c(t){return 0===t.x.topLeft&&0===t.x.topRight&&0===t.x.bottomRight&&0===t.x.bottomLeft&&0===t.y.topLeft&&0===t.y.topRight&&0===t.y.bottomRight&&0===t.y.bottomLeft}function f(t){return"object"==typeof t&&"x"in t&&"y"in t}function m(t,e){return{x:t,y:e}}function g(t,e,n){var r,o,i,l,a,s,d,u;return{x:{topLeft:(r=t.x.topLeft)+(e.x.topLeft-r)*n,topRight:(o=t.x.topRight)+(e.x.topRight-o)*n,bottomRight:(i=t.x.bottomRight)+(e.x.bottomRight-i)*n,bottomLeft:(l=t.x.bottomLeft)+(e.x.bottomLeft-l)*n},y:{topLeft:(a=t.y.topLeft)+(e.y.topLeft-a)*n,topRight:(s=t.y.topRight)+(e.y.topRight-s)*n,bottomRight:(d=t.y.bottomRight)+(e.y.bottomRight-d)*n,bottomLeft:(u=t.y.bottomLeft)+(e.y.bottomLeft-u)*n},unit:t.unit}}function h(t,e,n,r,o){return n+(r-n)*p((o-t)/(e-t),0,1)}function p(t,e,n){return Math.min(Math.max(t,e),n)}let y={duration:350,easing:t=>t};function w(t,e,n,r){let o,i=!1,l={...y,...r};return requestAnimationFrame(function r(s){void 0===o&&(o=s);let d=p((s-o)/l.duration,0,1),u=Object.keys(t),c=Object.keys(e);if(!u.every(t=>c.includes(t))){console.error("animate Error: `from` keys are different than `to`");return}let h={};u.forEach(n=>{var r,o,i,s,u,c;"number"==typeof t[n]&&"number"==typeof e[n]?h[n]=(r=t[n])+(e[n]-r)*l.easing(d):a(t[n])&&a(e[n])?h[n]=g(t[n],e[n],l.easing(d)):f(t[n])&&f(e[n])&&(h[n]=(o=t[n],i=e[n],s=l.easing(d),u=m(i.x-o.x,i.y-o.y),c=m(u.x*s,u.y*s),m(o.x+c.x,o.y+c.y)))}),n(h,d>=1,d),d<1&&!i&&requestAnimationFrame(r)}),()=>{i=!0}}let x={startDelay:0,targetEl:null};function v(t,e){let n={...x,...e},r=t.el(),o=!1,i=null,l=null,a=null,s=null,d=0,u=0,c=0,f=0,m=0,g=0,h=0,p=0,y=0,w=0,v=null,b;function R(e){(!n.targetEl||e.target===n.targetEl||n.targetEl.contains(e.target))&&!o&&e.isPrimary&&(n.startDelay>0?(null==a||a({el:e.target}),b=setTimeout(()=>{r()},n.startDelay)):r());function r(){v=e.target;let n=t.boundingRect(),r=t.layoutRect();m=r.x,g=r.y,c=n.x-m,f=n.y-g,d=e.clientX-c,u=e.clientY-f,h=e.clientX,p=e.clientY,y=(e.clientX-n.x)/n.width,w=(e.clientY-n.y)/n.height,o=!0,E(e)}}function S(t){if(!o){b&&(clearTimeout(b),b=null,null==s||s({el:t.target}));return}if(!t.isPrimary)return;o=!1;let e=t.clientX-h,n=t.clientY-p;null==l||l({x:c,y:f,pointerX:t.clientX,pointerY:t.clientY,width:e,height:n,relativeX:y,relativeY:w,el:v}),v=null}function E(t){if(!o){b&&(clearTimeout(b),b=null,null==s||s({el:t.target}));return}if(!t.isPrimary)return;let e=t.clientX-h,n=t.clientY-p,r=c=t.clientX-d,l=f=t.clientY-u;null==i||i({width:e,height:n,x:r,y:l,pointerX:t.clientX,pointerY:t.clientY,relativeX:y,relativeY:w,el:v})}function I(t){if(!o)return!0;t.preventDefault()}return r.addEventListener("pointerdown",R),document.body.addEventListener("pointerup",S),document.body.addEventListener("pointermove",E),document.body.addEventListener("touchmove",I,{passive:!1}),{onDrag:function(t){i=t},onDrop:function(t){l=t},onHold:function(t){a=t},onRelease:function(t){s=t},onElementUpdate:function(){r.removeEventListener("pointerdown",R),(r=t.el()).addEventListener("pointerdown",R)},destroy:function(){t.el().removeEventListener("pointerdown",R),document.body.removeEventListener("pointerup",S),document.body.removeEventListener("pointermove",E),document.body.removeEventListener("touchmove",I),i=null,l=null,a=null,s=null},readjust:function(){let e=t.layoutRect();d-=m-e.x,u-=g-e.y,m=e.x,g=e.y}}}function b(t){return 1+2.70158*Math.pow(t-1,3)+1.70158*Math.pow(t-1,2)}function R(t){return 1-Math.pow(1-t,3)}function S(t){return{x:t.x,y:t.y,width:t.width,height:t.height}}function E(t){let e=t,n=0,r=0;for(;e;)n+=e.offsetTop,r+=e.offsetLeft,e=e.offsetParent;return{x:r,y:n,width:t.offsetWidth,height:t.offsetHeight}}function I(t,e){return t.x>=e.x&&t.x<=e.x+e.width&&t.y>=e.y&&t.y<=e.y+e.height}function L(t){let e="unread",n,r,o,i,l,a,c,f,g,h,p;return{readInitial:function(){n=t.currentTransform(),r=function(t){let e=t.getBoundingClientRect(),n=0,r=0,o=t.parentElement;for(;o;){let t=getComputedStyle(o).transform;if(t&&"none"!==t){let e=t.match(/matrix.*\((.+)\)/);if(e){let t=e[1].split(", ").map(Number);n+=t[4]||0,r+=t[5]||0}}o=o.parentElement}return{y:e.top-r,x:e.left-n,width:e.width,height:e.height}}(t.el()),o=function(t){let e=t,n=0,r=0;for(;e;){let t=t=>{let e=getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowY+e.overflowX)};if(e===document.body){r+=window.scrollX,n+=window.scrollY;break}t(e)&&(r+=e.scrollLeft,n+=e.scrollTop),e=e.parentElement}return{x:r,y:n}}(t.el()),p=M(t.el()).map(({parent:t,children:e})=>({parent:{el:t,initialRect:S(t.getBoundingClientRect())},children:e.filter(t=>t instanceof HTMLElement).map(t=>(t.originalBorderRadius||(t.originalBorderRadius=getComputedStyle(t).borderRadius),{el:t,borderRadius:s(t.originalBorderRadius),initialRect:S(t.getBoundingClientRect())}))})),e="readInitial"},readFinalAndReverse:function(){if("readInitial"!==e)throw Error("FlipView: Cannot read final values before reading initial values");g=t.layoutRect(),a=r.width/g.width,c=r.height/g.height,i=r.x-g.x-n.dragX+o.x,l=r.y-g.y-n.dragY+o.y,f=d(t.borderRadius(),a,c);let s=M(t.el());p=p.map(({parent:t,children:e},n)=>{let r=s[n].parent;return{parent:{...t,el:r,finalRect:E(r)},children:e.map((t,e)=>{let r=s[n].children[e],o=E(r);return r.hasAttribute("data-swapy-text")&&(o={...o,width:t.initialRect.width,height:t.initialRect.height}),{...t,el:r,finalRect:o}})}});let y={translateX:i,translateY:l,scaleX:a,scaleY:c};t.el().style.transformOrigin="0 0",t.el().style.borderRadius=u(f),t.setTransform(y),h=[],p.forEach(({parent:t,children:e})=>{let n=e.map(({el:e,initialRect:n,finalRect:r,borderRadius:o})=>(function(t,e,n,r,o,i){t.style.transformOrigin="0 0";let l=o.width/i.width,a=o.height/i.height,s=e.width/n.width,c=e.height/n.height,f=d(r,s,c),g=e.x-o.x,h=n.x-i.x,p=e.y-o.y,y=n.y-i.y,w=(g-h*l)/l,x=(p-y*a)/a;return t.style.transform=`translate(${w}px, ${x}px) scale(${s/l}, ${c/a})`,t.style.borderRadius=u(f),{el:t,fromTranslate:m(w,x),fromScale:m(s,c),fromBorderRadius:f,toBorderRadius:r,parentScale:{x:l,y:a}}})(e,n,r,o,t.initialRect,t.finalRect));h.push(...n)}),e="readFinal"},transitionValues:function(){if("readFinal"!==e)throw Error("FlipView: Cannot get transition values before reading");return{from:{width:r.width,height:r.height,translate:m(i,l),scale:m(a,c),borderRadius:f},to:{width:g.width,height:g.height,translate:m(0,0),scale:m(1,1),borderRadius:t.borderRadius()}}},childrenTransitionData:function(){if("readFinal"!==e)throw Error("FlipView: Cannot get children transition values before reading");return h}}}function M(t){let e=[];return function t(n){let r=Array.from(n.children).filter(t=>t instanceof HTMLElement);r.length>0&&(e.push({parent:n,children:r}),r.forEach(e=>t(e)))}(t),e}function X(t){let e=[],n=t,r={dragX:0,dragY:0,translateX:0,translateY:0,scaleX:1,scaleY:1},o=s(window.getComputedStyle(n).borderRadius),i={el:()=>n,setTransform:function(t){r={...r,...t},l()},clearTransform:function(){r={dragX:0,dragY:0,translateX:0,translateY:0,scaleX:1,scaleY:1},l()},currentTransform:()=>r,borderRadius:()=>o,layoutRect:()=>E(n),boundingRect:()=>S(n.getBoundingClientRect()),usePlugin:function(t,n){let r=t(i,n);return e.push(r),r},destroy:function(){e.forEach(t=>t.destroy())},updateElement:function(t){if(!t)return;let r=n.hasAttribute("data-swapy-dragging"),o=n.style.cssText;n=t,r&&n.setAttribute("data-swapy-dragging",""),n.style.cssText=o,e.forEach(t=>t.onElementUpdate())}};function l(){let{dragX:t,dragY:e,translateX:o,translateY:i,scaleX:l,scaleY:a}=r;0===t&&0===e&&0===o&&0===i&&1===l&&1===a?n.style.transform="":n.style.transform=`translate(${t+o}px, ${e+i}px) scale(${l}, ${a})`}return i}Symbol.toStringTag;let Y={animation:"dynamic",enabled:!0,swapMode:"hover",dragOnHold:!1,autoScrollOnDrag:!1,dragAxis:"both",manualSwap:!1};function A(t){switch(t){case"dynamic":return{easing:R,duration:300};case"spring":return{easing:b,duration:350};case"none":return{easing:t=>t,duration:1}}}function T(t,e,n=!1){if(n){let t=e.item();t&&(e.view().el().style.position="relative",t.view().el().style.position="absolute")}else t.slot().view().el().style.position="",t.view().el().style.position="";if(!t)return;let r=L(t.view());r.readInitial(),e.view().el().appendChild(t.view().el()),r.readFinalAndReverse(),H(t,r)}function H(t,e){var n,r,o,i;null==(r=(n=t.cancelAnimation()).moveToSlot)||r.call(n),null==(i=(o=t.cancelAnimation()).drop)||i.call(o);let l=A(t.store().config().animation),a=e.transitionValues(),s=t.view().currentTransform(),d=0,f=!1;t.cancelAnimation().moveToSlot=w({translate:a.from.translate,scale:a.from.scale,borderRadius:a.from.borderRadius},{translate:a.to.translate,scale:a.to.scale,borderRadius:a.to.borderRadius},({translate:n,scale:r,borderRadius:o},i,m)=>{if(t.isDragging()){var h,p;0!==d&&(f=!0);let e=t.dragEvent().relativeX,n=t.dragEvent().relativeY;t.continuousDrag()?t.view().setTransform({translateX:(h=s.translateX)+(s.translateX+(a.from.width-a.to.width)*e-h)*l.easing(m-d),translateY:(p=s.translateY)+(s.translateY+(a.from.height-a.to.height)*n-p)*l.easing(m-d),scaleX:r.x,scaleY:r.y}):t.view().setTransform({scaleX:r.x,scaleY:r.y})}else s=t.view().currentTransform(),d=m,f?t.view().setTransform({scaleX:r.x,scaleY:r.y}):t.view().setTransform({dragX:0,dragY:0,translateX:n.x,translateY:n.y,scaleX:r.x,scaleY:r.y});let y=e.childrenTransitionData();y.forEach(({el:t,fromTranslate:e,fromScale:n,fromBorderRadius:r,toBorderRadius:o,parentScale:i})=>{var a,s,d,f;let h=(a=i.x)+(1-a)*l.easing(m),p=(s=i.y)+(1-s)*l.easing(m);t.style.transform=`translate(${e.x+(0-e.x/h)*l.easing(m)}px, ${e.y+(0-e.y/p)*l.easing(m)}px) scale(${(d=n.x/h)+(1/h-d)*l.easing(m)}, ${(f=n.y/p)+(1/p-f)*l.easing(m)})`,c(r)||(t.style.borderRadius=u(g(r,o,l.easing(m))))}),c(o)||(t.view().el().style.borderRadius=u(o)),i&&(t.isDragging()||(t.view().el().style.transformOrigin="",t.view().clearTransform()),t.view().el().style.borderRadius="",y.forEach(({el:t})=>{t.style.transform="",t.style.transformOrigin="",t.style.borderRadius=""}))},l)}function $(...t){console.error("Swapy Error:",...t)}function j(t){return new Set(t).size!==t.length}function C(t){let e=new Set,n=new Set;for(let r of t)e.has(r)?n.add(r):e.add(r);return Array.from(n)}function D(t){let e=t;for(;e;){let t=window.getComputedStyle(e),n=t.overflowY,r=t.overflowX;if(("auto"===n||"scroll"===n)&&e.scrollHeight>e.clientHeight||("auto"===r||"scroll"===r)&&e.scrollWidth>e.clientWidth)return e;e=e.parentElement}return window}function B(t){let e=10>Math.floor(t/60)?"0"+Math.floor(t/60).toString():Math.floor(t/60),n=t%60<10?"0"+(t%60).toString():t%60;return"".concat(e,":").concat(n)}function F(t){let{teachers:e,startTime:n,numberOfLessons:a,period:s,delay:d=0}=t,u=(0,o.useRef)(null),c=(0,o.useRef)(null);return(0,o.useEffect)(()=>{if(c.current)return u.current=function(t,e){let n={...Y,...e},r=function({slots:t,items:e,config:n}){let r={slots:t,items:e,config:n,slotItemMap:{asObject:{},asMap:new Map,asArray:[]},zIndexCount:1,eventHandlers:{onSwapStart:()=>{},onSwap:()=>{},onSwapEnd:()=>{},onBeforeSwap:()=>!0},scrollOffsetWhileDragging:{x:0,y:0},scrollHandler:null},o={...r},i=t=>{var e;null==(e=o.scrollHandler)||e.call(o,t)};return window.addEventListener("scroll",i),{slots:()=>o.slots,items:()=>o.items,config:()=>n,setItems:t=>o.items=t,setSlots:t=>o.slots=t,slotById:function(t){return o.slots.find(e=>e.id()===t)},itemById:function(t){return o.items.find(e=>e.id()===t)},zIndex:(t=!1)=>t?++o.zIndexCount:o.zIndexCount,resetZIndex:()=>{o.zIndexCount=1},eventHandlers:()=>o.eventHandlers,syncSlotItemMap:function(){let t={},e=new Map,n=[];o.slots.forEach(r=>{var o;let i=r.id(),l=(null==(o=r.item())?void 0:o.id())||"";t[i]=l,e.set(i,l),n.push({slot:i,item:l})}),o.slotItemMap={asObject:t,asMap:e,asArray:n}},slotItemMap:(t=!1)=>t?structuredClone(o.slotItemMap):o.slotItemMap,onScroll:t=>{o.scrollHandler=t},swapItems:function(t,e){var n;let r=o.slotItemMap,i=t.id(),l=(null==(n=e.item())?void 0:n.id())||"",a=e.id(),s=t.slot().id();r.asObject[a]=i,r.asObject[s]=l,r.asMap.set(a,i),r.asMap.set(s,l);let d=r.asArray.findIndex(t=>t.slot===a),u=r.asArray.findIndex(t=>t.slot===s);r.asArray[d].item=i,r.asArray[u].item=l},destroy:function(){window.removeEventListener("scroll",i),o={...r}}}}({slots:[],items:[],config:n}),o=[],i=[];function l(){if(!function(t){let e=!0,n=t.querySelectorAll("[data-swapy-slot]");t||($("container passed to createSwapy() is undefined or null"),e=!1),n.forEach(t=>{let n=t.dataset.swapySlot,r=t.children,o=r[0];n&&0!==n.length||($(t,"does not contain a slotId using data-swapy-slot"),e=!1),r.length>1&&($("slot:",`"${n}"`,"cannot contain more than one element"),e=!1),o&&(!o.dataset.swapyItem||0===o.dataset.swapyItem.length)&&($("slot",`"${n}"`,"does not contain an element with an item id using data-swapy-item"),e=!1)});let r=Array.from(n).map(t=>t.dataset.swapySlot),o=Array.from(t.querySelectorAll("[data-swapy-item]")).map(t=>t.dataset.swapyItem);if(j(r)){let t=C(r);$("your container has duplicate slot ids",`(${t.join(", ")})`),e=!1}if(j(o)){let t=C(o);$("your container has duplicate item ids",`(${t.join(", ")})`),e=!1}return e}(t))throw Error("Cannot create a Swapy instance because your HTML structure is invalid. Fix all above errors and then try!");o=Array.from(t.querySelectorAll("[data-swapy-slot]")).map(t=>(function(t,e){let n=X(t);function r(){e.slots().forEach(t=>{t.view().el().removeAttribute("data-swapy-highlighted")})}return{id:function(){return n.el().dataset.swapySlot},view:()=>n,itemId:function(){let t=n.el().children[0];return(null==t?void 0:t.dataset.swapyItem)||null},rect:function(){return S(n.el().getBoundingClientRect())},item:function(){let t=n.el().children[0];if(t)return e.itemById(t.dataset.swapyItem)},highlight:function(){r(),n.el().setAttribute("data-swapy-highlighted","")},unhighlightAllSlots:r,isHighlighted:()=>n.el().hasAttribute("data-swapy-highlighted"),destroy:function(){}}})(t,r)),r.setSlots(o),i=Array.from(t.querySelectorAll("[data-swapy-item]")).map(t=>(function(t,e){let n;let r=X(t),o={},i=null,l=null,a=!1,s=!0,d,u=(n=!1,t=>{n||(n=!0,requestAnimationFrame(()=>{t(),n=!1}))}),c=()=>{},f=()=>{},g=()=>{},y=()=>{},{onDrag:x,onDrop:b,onHold:R,onRelease:E}=r.usePlugin(v,{startDelay:e.config().dragOnHold?400:0,targetEl:$()}),I=m(0,0),L=m(0,0),M=m(0,0),Y=m(0,0),T=null,H=null;function $(){return r.el().querySelector("[data-swapy-handle]")}function j(t){let e=$();return!!e&&(e===t||e.contains(t))}function C(){return null!==$()}function B(){return Array.from(r.el().querySelectorAll("[data-swapy-no-drag]"))}function F(t){let e=B();return!!e&&0!==e.length&&(e.includes(t)||e.some(e=>e.contains(t)))}function O(){return B().length>0}function N(){return r.el().dataset.swapyItem}function q(){return e.slotById(r.el().parentElement.dataset.swapySlot)}function z(){return r.el().parentElement.dataset.swapySlot}return R(t=>{e.config().enabled&&(C()&&!j(t.el)||O()&&F(t.el)||null==g||g(t))}),E(t=>{e.config().enabled&&(C()&&!j(t.el)||O()&&F(t.el)||null==y||y(t))}),x(t=>{var n;if(e.config().enabled){if(!a){if(C()&&!j(t.el)||O()&&F(t.el))return;(function(t){var n;r.el().setAttribute("data-swapy-dragging",""),q().highlight(),null==(n=o.drop)||n.call(o);let a=e.slots().map(t=>t.view().boundingRect());e.slots().forEach((t,e)=>{let n=a[e];t.view().el().style.width=`${n.width}px`,t.view().el().style.maxWidth=`${n.width}px`,t.view().el().style.flexShrink="0",t.view().el().style.height=`${n.height}px`});let s=e.slotItemMap(!0);e.eventHandlers().onSwapStart({draggingItem:N(),fromSlot:z(),slotItemMap:s}),l=s,r.el().style.position="relative",r.el().style.zIndex=`${e.zIndex(!0)}`,T=D(t.el),e.config().autoScrollOnDrag&&(i=function(t,e){let n=!1,r,o=0,i=0,l=0,a=0,s=0,d=0,u=null;function c(){t instanceof HTMLElement?(l=t.scrollTop,a=t.scrollLeft):(l=window.scrollY,a=window.scrollX)}return t instanceof HTMLElement?(r=S(t.getBoundingClientRect()),o=t.scrollHeight-r.height,i=t.scrollWidth-r.width):(r={x:0,y:0,width:window.innerWidth,height:window.innerHeight},o=document.documentElement.scrollHeight-window.innerHeight,i=document.documentElement.scrollWidth-window.innerWidth),{updatePointer:function(f){n=!1;let m=r.y,g=r.y+r.height,y=r.x,w=r.x+r.width,x=Math.abs(m-f.y)<Math.abs(g-f.y),v=Math.abs(y-f.x)<Math.abs(w-f.x);if(c(),"x"!==e){if(x){let t=m-f.y;t>=-100&&(s=-h(-100,0,0,5,p(t,-100,0)),n=!0)}else{let t=g-f.y;t<=100&&(s=h(100,0,0,5,p(t,0,100)),n=!0)}}if("y"!==e){if(v){let t=y-f.x;t>=-100&&(d=-h(-100,0,0,5,p(t,-100,0)),n=!0)}else{let t=w-f.x;t<=100&&(d=h(100,0,0,5,p(t,0,100)),n=!0)}}n&&(u&&cancelAnimationFrame(u),function r(){c(),"x"!==e&&(s=l+s>=o?0:s),"y"!==e&&(d=a+d>=i?0:d),t.scrollBy({top:s,left:d}),n&&(u=requestAnimationFrame(r))}())},destroy:function(){n=!1}}}(T,e.config().dragAxis)).updatePointer({x:t.pointerX,y:t.pointerY}),I.x=window.scrollX,I.y=window.scrollY,M.x=0,M.y=0,T instanceof HTMLElement&&(L.x=T.scrollLeft,L.y=T.scrollTop,H=()=>{Y.x=T.scrollLeft-L.x,Y.y=T.scrollTop-L.y,r.setTransform({dragX:((null==d?void 0:d.width)||0)+M.x+Y.x,dragY:((null==d?void 0:d.height)||0)+M.y+Y.y})},T.addEventListener("scroll",H)),e.onScroll(()=>{M.x=window.scrollX-I.x,M.y=window.scrollY-I.y;let t=Y.x||0,e=Y.y||0;r.setTransform({dragX:((null==d?void 0:d.width)||0)+M.x+t,dragY:((null==d?void 0:d.height)||0)+M.y+e})})})(t)}a=!0,i&&i.updatePointer({x:t.pointerX,y:t.pointerY}),d=t,null==(n=o.drop)||n.call(o),u(()=>{r.el().style.position="relative";let n=t.width+M.x+Y.x,o=t.height+M.y+Y.y;"y"===e.config().dragAxis?r.setTransform({dragY:o}):"x"===e.config().dragAxis?r.setTransform({dragX:n}):r.setTransform({dragX:n,dragY:o}),null==c||c(t)})}}),b(t=>{a&&(r.el().removeAttribute("data-swapy-dragging"),a=!1,s=!1,d=null,T&&(T.removeEventListener("scroll",H),H=null),T=null,Y.x=0,Y.y=0,M.x=0,M.y=0,i&&(i.destroy(),i=null),q().unhighlightAllSlots(),null==f||f(t),e.eventHandlers().onSwapEnd({slotItemMap:e.slotItemMap(),hasChanged:null!=l&&!!l.asMap&&!function(t,e){if(t.size!==e.size)return!1;for(let[n,r]of t)if(e.get(n)!==r)return!1;return!0}(null==l?void 0:l.asMap,e.slotItemMap().asMap)}),l=null,e.onScroll(null),e.slots().forEach(t=>{t.view().el().style.width="",t.view().el().style.maxWidth="",t.view().el().style.flexShrink="",t.view().el().style.height=""}),e.config().manualSwap&&"drop"===e.config().swapMode?requestAnimationFrame(n):n());function n(){let t=r.currentTransform(),n=t.dragX+t.translateX,i=t.dragY+t.translateY;o.drop=w({translate:m(n,i)},{translate:m(0,0)},({translate:t},n)=>{n?a||(r.clearTransform(),r.el().style.transformOrigin=""):r.setTransform({dragX:0,dragY:0,translateX:t.x,translateY:t.y}),n&&(e.items().forEach(t=>{t.isDragging()||(t.view().el().style.zIndex="")}),e.resetZIndex(),r.el().style.position="",s=!0)},A(e.config().animation))}}),{id:N,view:()=>r,slot:q,slotId:z,onDrag:function(t){c=t},onDrop:function(t){f=t},onHold:function(t){g=t},onRelease:function(t){y=t},destroy:function(){c=null,f=null,g=null,y=null,d=null,l=null,i&&(i.destroy(),i=null),T&&H&&T.removeEventListener("scroll",H),r.destroy()},isDragging:()=>a,cancelAnimation:()=>o,dragEvent:()=>d,store:()=>e,continuousDrag:()=>s,setContinuousDrag:t=>s=t}})(t,r)),r.setItems(i),r.syncSlotItemMap(),i.forEach(t=>{t.onDrag(({pointerX:e,pointerY:i})=>{s();let l=!1;o.forEach(t=>{I({x:e,y:i},t.rect())&&(l=!0,t.isHighlighted()||t.highlight())}),l||"drop"!==r.config().swapMode||t.slot().highlight(),"hover"===n.swapMode&&a(t,{pointerX:e,pointerY:i})}),t.onDrop(({pointerX:e,pointerY:r})=>{d(),"drop"===n.swapMode&&a(t,{pointerX:e,pointerY:r})}),t.onHold(()=>{s()}),t.onRelease(()=>{d()})})}function a(e,{pointerX:n,pointerY:i}){o.forEach(o=>{if(I({x:n,y:i},o.rect())){if(e.id()===o.itemId())return;"hover"===r.config().swapMode&&e.setContinuousDrag(!0);let n=e.slot(),i=o.item();if(r.eventHandlers().onBeforeSwap({fromSlot:n.id(),toSlot:o.id(),draggingItem:e.id(),swapWithItem:(null==i?void 0:i.id())||""})){if(r.config().manualSwap){let l=structuredClone(r.slotItemMap());r.swapItems(e,o);let a=r.slotItemMap(),s=L(e.view());s.readInitial();let d=i?L(i.view()):null;null==d||d.readInitial();let u=0,c=0,f=D(e.view().el());f instanceof Window?(u=f.scrollY,c=f.scrollX):(u=f.scrollTop,c=f.scrollLeft),r.eventHandlers().onSwap({oldSlotItemMap:l,newSlotItemMap:a,fromSlot:n.id(),toSlot:o.id(),draggingItem:e.id(),swappedWithItem:(null==i?void 0:i.id())||""}),requestAnimationFrame(()=>{let n=t.querySelectorAll("[data-swapy-item]");r.items().forEach(t=>{let e=Array.from(n).find(e=>e.dataset.swapyItem===t.id());t.view().updateElement(e)}),r.syncSlotItemMap(),s.readFinalAndReverse(),null==d||d.readFinalAndReverse(),H(e,s),i&&d&&H(i,d),f.scrollTo({left:c,top:u})})}else{let t=0,l=0,a=D(e.view().el());a instanceof Window?(t=a.scrollY,l=a.scrollX):(t=a.scrollTop,l=a.scrollLeft),T(e,o,!0),i&&T(i,n),a.scrollTo({left:l,top:t});let s=r.slotItemMap();r.syncSlotItemMap();let d=r.slotItemMap();r.eventHandlers().onSwap({oldSlotItemMap:s,newSlotItemMap:d,fromSlot:n.id(),toSlot:o.id(),draggingItem:e.id(),swappedWithItem:(null==i?void 0:i.id())||""})}}}})}function s(){t.querySelectorAll("img").forEach(t=>{t.style.pointerEvents="none"}),t.style.userSelect="none",t.style.webkitUserSelect="none"}function d(){t.querySelectorAll("img").forEach(t=>{t.style.pointerEvents=""}),t.style.userSelect="",t.style.webkitUserSelect=""}function u(){i.forEach(t=>t.destroy()),o.forEach(t=>t.destroy()),r.destroy(),i=[],o=[]}return l(),{enable:function(t){r.config().enabled=t},slotItemMap:()=>r.slotItemMap(),onSwapStart:function(t){r.eventHandlers().onSwapStart=t},onSwap:function(t){r.eventHandlers().onSwap=t},onSwapEnd:function(t){r.eventHandlers().onSwapEnd=t},onBeforeSwap:function(t){r.eventHandlers().onBeforeSwap=t},update:function(){u(),requestAnimationFrame(()=>{l()})},destroy:u}}(c.current,{swapMode:"drop"}),()=>{var t;null===(t=u.current)||void 0===t||t.destroy()}},[]),(0,r.jsx)("table",{children:(0,r.jsxs)("tbody",{className:"border border-(--foreground)",ref:c,children:[(0,r.jsxs)("tr",{className:"border border-(--foreground)",children:[(0,r.jsx)("td",{className:"border border-(--foreground)",children:(0,r.jsx)("div",{className:"resize"})}),e.map(t=>(0,r.jsx)("td",{className:"border border-(--foreground) px-2",children:(0,r.jsx)("div",{className:"resize",children:t})},t))]}),Array(a).fill(0).map((t,o)=>(0,r.jsxs)(l,{className:"border border-(--foreground) container",children:[(0,r.jsx)("td",{className:"border border-(--foreground) px-1",children:(0,r.jsxs)("div",{className:"resize",children:[B(n+o*s+o*d),"-",B(n+(o+1)*s+(o+1)*d)]})}),e.map((t,e)=>(0,r.jsx)(i,{className:"border border-(--foreground)",slot:o.toString()+e.toString()},t))]},o))]})})}}},t=>{var e=e=>t(t.s=e);t.O(0,[441,517,358],()=>e(8298)),_N_E=t.O()}]);